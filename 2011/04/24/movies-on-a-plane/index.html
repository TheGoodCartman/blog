<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.515">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>The KingOli Blog - Movies on a plane</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../k-typewriter.png" rel="icon" type="image/png">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../k-typewriter.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">The KingOli Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/TheGoodCartman"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Movies on a plane</h1>
  <div class="quarto-categories">
    <div class="quarto-category">gesehen</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">24.04.2011 17:01</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>Ein 12-Stunden-Flug verlangt seinen Passagieren einiges an Sitzfleisch ab. Zum Glück bieten die meisten Langstreckenflüge inzwischen individuelle <a href="http://www.panasonic.aero/Products/XSeries.aspx">In-Flight-Entertainment-Systeme</a> an, so dass ich die Zeit auf den Flügen nach und von Mauritius sinnvoll mit Filme schauen nutzen konnte. Die <a href="http://www.edelweissair.ch/d/aboard/movies/">Fluglinie Edelweiss</a> bot eine gute Auswahl an teilweise topaktuellen Kinofilmen an, so dass ich die Qual der Wahl hatte, in welcher Reihenfolge ich mir die Filme ansehe. Diese Entscheidung wurde dadurch erschwert, dass das Flugzeug Probleme mit seinem System hatte - es wurde während der beiden Flüge insgesamt dreimal neu gestartet und jedesmal war die Auswahl an Filmen danach eine andere. Die Qualität von Bild und Ton entsprach leider auch nicht meinen Ansprüchen, aber im Sitz eines Flugzeuges darf ich eben kein Full-HD und Surroundsound erwarten - zum Bewerten der Filme hat es allemal ausgereicht.</p>
<p><strong>True Grit</strong></p>
<p>Nach dem mäßigen <a href="../../../../2010/01/31/a-serious-man/">A serious man</a> haben sich die <a href="../../../../blog/?s=coen">Coen-Brüder</a> nun dem Westerngenre angenommen, wenn auch nur in Form eines Remakes. Dafür haben sie nach seiner Paraderolle als Dude in <em>The Big Lebowski</em> erneut Jeff Bridges gewinnen können, der Marshall Cogburn verkörpert, einen versoffenen und in der Wahl seiner Mittel nicht gerade zimperlichen oder gar ethischen Vertreter des Gesetzes, der aber trotzdem dem Mädchen Mattie dabei hilft, den Mörder ihres Vaters zur Strecke zu bringen.</p>
<p>Dabei wird der lakonische Stil aus <em>No country for old men</em> fortgeführt. Das Westerngenre ist geradezu prädestiniert für die eigenwilligen, schroffen Charaktere des Coen-Universums, und so passt die altkluge und ungewöhnlich gebildete, aber auch sturköpfige Mattie zu den ebenso sturen Männerbildern ihrer kleinen Reisegruppe (neben Cogburn noch der Texasranger LeBoeuf). Sie alle haben ein eigenes Bild vom sogenannten Wilden Westens, und auch eigene Vorstellungen, wie der Mörder Chaney zu finden und zu fangen ist. Doch sie werden die Grenzen ihrer engen Sichtweise kennenlernen, was u.a. zu der amüsanten Szene führt, wenn LeBoeuf Matti wie ein kleines Kind über das Knie legt und ihr den Hosenboden versohlt.</p>
<p>Die Welt ist eben nicht immer so, wie man sie sich vorstellt oder wünscht, und verändert sich mit der Zeit und ebenso der eigene Charakter. Cogburn erscheint arrogant, kommt aber bestens im Indianerreservat zurecht, in welchem sich Chaney einer Räuberbande angeschlossen hat. Trotzdem ist er alt geworden, mit nur einem Auge und viel Alkohol im Blut trifft er die Ziele nicht mehr zuverlässig, so dass er immer den Vorteil des ersten Schusses benötigt. So wie er müssen alle feststellen, dass sie auf sich alleingestellt ihre Ziele nicht erreichen können.</p>
<p>Die moralische Frage stellt der Film dabei nur unterschwellig, vielmehr erscheint er wie ein Abgesang auf die Zeit der heldenhaften Cowboys und Sheriffs, denn ein heldenhaftes Ende ist keiner der Figuren vergönnt - sonst wäre es ja kein typisches Coen-Werk. Dem ordnen sich auch die Bilder unter, die das Reservat zwar in beeindruckenden Naturaufnahmen einfangen, aber dessen karge Lebensfeindlichkeit ebenso deutlich aufzeigen. Für mich war die winterliche Steppe ebenso ungewohnt wie der sich teilweise mit heroischem Pathos in den Vordergrund spielende Soundtrack, der so untypisch für die Coens scheint.</p>
<p><strong>Megamind</strong></p>
<p><em>Megamind</em> ist der erneute Versuch von Dreamworks, den stetig wachsenden Abstand zu den Pixarfilmen aufzuholen. Dazu erzählen sie die Geschichte des Comic-Klischees Superheld vs Superbösewicht aus der ungewohnten Sicht des stetig unterlegenen außerirdischen Schurken Megamind. Als der Held Metro Man als dessen Feindbild plötzlich verschwindet, klont Megamind sich einfach aus dessen DNA einen neuen Nemesis. Doch wider Erwarten missbraucht der neue Held seine Fähigkeiten und Megamind sieht sich in der ungewohnten Situation, als Held die Stadt und seine angehimmelte Roxanne zu verteidigen.</p>
<p>So sympathisch der unglücklich in die Rolle des Bösewichts gedrängte Megamind auch dargestellt wird und so witzig mit diesem Perspektivenwechsel gespielt wird, sind doch nicht alle Ideen so überraschend gut. Pixar hat mit <em>Die Unglaublichen</em> einfach einen zu guten Superheldenfilm vorgelegt, der auch handwerklich den Vergleich gewinnt. <em>Megamind</em> sieht man zwar an, dass der geradlinige Stil mit Absicht sehr comichaft gewählt wurde, aber es fehlt dem Film einfach an den Details und optischen Spielereien, die zum Beispiel <a href="../../../../2008/09/28/wall-e/">Wall-E</a> zu einem visuellen Schmankerl gemacht haben. Ohne den Vergleich mit den großen Vorbildern bleibt ein teilweise sehr witziger Film übrig, dem etwas der letzte Schliff fehlt.</p>
<p><strong>The Fighter</strong></p>
<p>Auch wenn <a href="../../../../blog/?s=Darren+Aronofsky">Darren Aronofsky</a> im Vorspann nur als Produzent genannt wird - <em>The Fighter</em> steht in einer Linie mit den <a href="../../../../2011/01/30/black-swan/">letzten Charakterstudien des Regisseurs</a>. Es geht um die beiden Boxbrüder Micky und Dicky, die zusammen mit sieben Schwestern in einer irischstämmigen Arbeiterfamilie aufgewachsen sind. Dicky war einst relativ erfolgreich, doch inzwischen ist er drogensüchtig und trainiert und managt seinen jüngeren Bruder mehr schlecht als recht. Als dieser die Barkeeperin Charlene kennenlernt, kommt es zur Konfrontation mit seiner Familie, denn Micky will seine Karriere im Ring selbst gestalten, während die Familie auf Dicky fixiert ist.</p>
<p>Anfangs folgt der Film einem Reporterteam, welches angeblich eine Dokumentation über Dickys Comeback dreht, aber eigentlich auf die Gefahren des Drogenmissbrauchs aufmerksam machen will. Dicky ist der Star und Stolz des von Arbeitslosigkeit geprägten Arbeiterstädtchens Lowell, doch schnell lernt der Zuschauer seine Schattenseiten kennen und das kleine, folgsame Drogenvölkchen, mit dem zusammen er ein Abbruchhaus bewohnt. Bald schwenkt der Fokus auf seinen kleinen Bruder, der nicht so extrovertiert wie Dicky versucht, mit den starken Persönlichkeiten seiner Familie klar zu kommen. Wenn sich die acht Frauen versammeln, um Entscheidungen zu treffen, dann hat Micky nicht viel zu sagen. Erst Charlene ändert daran etwas, und doch möchte Micky für den Erfolg nicht alles aufgeben, schon gar nicht die Familie, wie kompliziert auch immer sie ist.</p>
<p>In Tradition des <em>Million Dollar Baby</em> ist <em>The Fighter</em> eher Milieustudie und Familiendrama (mit Happy End) als Boxerfilm, wenngleich es genügend klassisch inszenierte Boxkampfszenen gibt. Doch während zum Beispiel in <em>Wie ein wilder Stier</em> das Boxen ein Ausdruck des selbstzerstörerischen Charakters der Hauptfigur ist, ist es hier theoretisch austauschbar, wenn auch so passend da es eine Verfilmung einer wahren Lebensgeschichte ist. Dementsprechend lebt der Film von seiner Authentizität, die von den unmöglichen Frisuren der Schwestern über das heruntergekommene Lowell bis hin zu den imitierten TV-Bildern der 90er reicht.</p>
<p>Was <em>The Fighter</em> aber zu einem sehr guten Film macht ist zum Einen die Spannung innerhalb der ungewöhnlichen Familienkonstellation und dann die Leistung der Schauspieler, die ihre Charaktere für den Zuschauer greifbar machen und unter denen Christian Bale als Dicky den Oscar als bester Nebendarsteller wirklich verdient hat.</p>
<p><strong>Harry Potter und die Heiligtümer des Todes, Teil 1</strong></p>
<p>Ich hatte mir gerade die ersten Minuten von <em>The Kings Speech</em> mit der großartigen Helena Bonham-Carter angesehen, als das Entertainmentsystem des Flugzeugs neugestartet werden musste und der Film nicht mehr verfügbar war. Also ging ich über zum nächsten Film mit ihr, wenngleich sie nur in der kleinen Nebenrolle der Bellatrix Lestrange auftritt. Trotz der Tatsache, dass hier nur die erste Hälfte der Verfilmung <a href="../../../../2008/11/23/harry-potter-and-the-deathly-hallows/">des letzten Bandes der Serie</a> vorliegt, ist dies doch ein sehr runder Film geworden, mit einem guten Spannungsverlauf und kaum Leerlauf. Die im Buch sehr viel Platz einnehmende Flucht der drei Helden wurde auf ein notwendiges Mininum gekürzt und die Geschichte der drei Heiligtümer in einer schön animierten Tricksequenz vermittelt.</p>
<p>Ansonsten setzt der siebente Teil die Tradition der Serie fort, mit jedem Film noch düsterer zu werden. Teilweise finden sich auf der Leinwand nur noch unterschiedlich dunkle Abstufungen von Grau wieder, was leider sehr deprimierend wirkt und durch das weitgehende Fehlen von Magie manchmal fast vergessen lässt, dass es sich hier um ein Werk der Fantasy handelt. Das Vorwissen der vorhergehenden Teile ist zudem zwingend erforderlich, sonst ist der Film schlicht nicht zu verstehen. Zu viele Nebenfiguren geben sich unkommentiert die Klinke in die Hand (neu: Bill Nighy als Zaubereiminister) und bei einigen davon ist es sehr schade, wie wenig Platz und Zeit sie bei all ihrem Potential bekommen haben. Aber ein Film ist schließlich kein Buch und die Fokussierung auf die drei Hauptcharaktere macht <em>Die Heiligtümer des Todes, Teil 1</em> zum besten Harry-Potter-Film seit <a href="../../../../2005/11/24/harry-potter-und-der-feuerkelch/">Der Feuerkelch</a>, weil er als eine Art Roadmovie in sich funktioniert und sich nicht mehr der unlösbaren Aufgabe verschreibt, die Bücher in möglichst großer Detailgenauigkeit abzubilden.</p>
<p><strong>Gullivers Reisen</strong></p>
<p>Eigentlich mag ich ja Jack Black, vor allem was seinen Hang zur Gitarrenmusik betrifft. Aber teilweise ist mir sein Humor zu flach und zu kindisch, dann möchte ich mich am liebsten fremdschämen. <em>Gullivers Reisen</em> scheitert weniger an diesen Witzen, als vielmehr an seiner Uninspiriertheit und der einfallslosen Geschichte, die zwar lose den Büchern folgt, ohne aber deren satirische Kritik aufzugreifen. Jack Black hat sich für einen Film hergegeben, der familientaugliche Unterhaltung mit der neusten 3D-Technik verkaufen möchte und dabei in weichgespültem und massenkompatiblen Mainstream ohne jede Ecke und Kante versandet.</p>
<p>Das Beste am Film sind noch seine zwei in Tilt-&amp;-Shift-Optik gehaltenen Szenen, da sie das Thema Größenverhältnisse als einen der zentralen Aspekte in der Vorlage visuell aufnehmen. Als erstes versucht sich das Intro an einer 1:1-Kopie des tollen <a href="http://vimeo.com/9679622">The Sandpit</a>, später wird das Puppenhaus im Land der Riesen ebenso im Ameisenlook dargestellt.</p>
<p>Darüber hinaus scheitert der Film aber leider an seiner Optik. Ich kann die 3D-Umsetzung nicht beurteilen, aber schon auf dem Minidisplay im Flugzeug wurde sichtbar, dass nicht alle Szenen mit unterschiedlich großen Charakteren funktionieren. Irgendetwas stört immer die Illusion, sei es nun die Ausleuchtung, der Schattenwurf oder die ungleichen Detailgrade - die Perfektion aus <a href="../../../../2001/12/19/der-herr-der-ringe-die-gefahrten/">Der Herr der Ringe</a> wird bei weitem nicht erreicht. Da können auch Amanda Peet und Jason Segel (<em>How I met your mother</em>) nichts daran ändern.</p>
<p><strong>Tron Legacy</strong></p>
<p>Zum Schluss habe ich dann noch <em>Tron Legacy</em> angesehen. Auch Disney versucht sich daran, Allbekanntes mit 3D neu zu verkaufen und hat sich für eine Fortsetzung des Sci-Fi-Klassikers <em>Tron</em> entschieden. Wobei nur Teile der Story wirklich neu sind, ansonsten hangelt sich der Film entlang der Handlungsorte und -elemente des Originals und greift sogar weitgehend dessen Optik auf, ohne aber die aufwendige Technik aus den 80ern einzusetzen.</p>
<p>Die virtuelle Welt des Computerprogramms Tron hat dabei neben Clu, einem Ebenbild und Stellvertreter des Schöpfers des Programmes, auch ein angeblich fortgeschrittenes Volk “isomorpher Algorithmen” zu bieten, das so fortschrittlich und intelligent ist, dass es sich in einem virtuellen Genozid von Clu auslöschen lässt. Die Grenzen von Gut und Böse werden also jenseits aller Logik eindeutig markiert, wie es sich für einen Disneyfilm gehört, ohne aber darüber hinaus eine wirkliche Motivation für das Handeln der Charaktere hervorzuarbeiten.</p>
<p>Für das Remake konnte man neben Bruce Boxleitner auch Jeff Bridges aus dem Original verpflichten, wobei letzterer mit einer gealterten Version seiner Rolle des Kevin Flynn von vor 25 Jahren gegen sein jung gebliebenes Alter Ego Clu antreten darf. Dieses ist jedoch so schlecht animiert (auch in einer Rückblende, die den jungen Flynn mit seinem kleinen Sohn zeigt), dass ich mich gefragt habe, warum ein Film aus dem Jahr 2010 nicht die Animationskunst zu Verfügung hat, mit der die Japaner <a href="../../../../2001/08/23/final-fantasy-die-machte-in-dir/">bereits vor 10 Jahren</a> lebensechte Gesichter auf die Leinwand zauberten.</p>
<p>So ist <em>Tron Legacy</em> nur ein schwacher Aufguss eines einstmals innovativen Films, der in purer Selbstreferentialität schwelgt und dessen wenige neue Ideen in einem hanebüchenen Skript und einer teilweise miesen technischen Umsetzung keinen Platz zur Entfaltung finden.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>