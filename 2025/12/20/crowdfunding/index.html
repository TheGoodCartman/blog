<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.9.14">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Everything you always wanted to know about Crowdfunding – The KingOli Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../k-typewriter.png" rel="icon" type="image/png">
<script src="../../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting-4f72c1afe59a4edb82ad8e59b4b7d712.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap-86021494fdb264b41bb370614a82db5e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../k-typewriter.png" alt="" class="navbar-logo light-content">
    <img src="../../../../k-typewriter.png" alt="" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">The KingOli Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/TheGoodCartman"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Everything you always wanted to know about Crowdfunding</h1>
  <div class="quarto-categories">
    <div class="quarto-category">gedacht</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">20.12.2025 22:44</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><a href="../../../../2012/07/30/von-crowdfunding-bis-eichinger-gedanken-zum-kinofilm/">Vor nunmehr 13 Jahren habe ich zum ersten Mal Geld in ein Crowdfunding-Projekt investiert</a>. Seitdem habe ich viel lernen dürfen, was bei solchen Kampagnen alles schief gehen kann, und möchte deshalb in einem Recap von meinen bunten Erfahrungen berichten.</p>
<section id="anomalisa" class="level1">
<h1>2012 Anomalisa</h1>
<p>Alles fing an mit einem Film. Für 20$ konnte ich Charlie Kaufman helfen, einen <a href="https://www.kickstarter.com/projects/anomalisa/charlie-kaufmans-anomalisa/posts">Stop-Motion-Film</a> zu realisieren. Da musste ich nicht lange nachdenken. Meine Vorstellung war, dass ich unabhängig von der klassischen Filmverwertung (Kino, Video, TV) nach Fertigstellung eine Filmdatei in HD bekomme - doch Filmvertrieb ist ein extrem fragmentiertes Thema, wie ich lernen musste. Noch während der Dreharbeiten des Films (über drei Jahre) kauften sich finanzkräftige Investoren wie Amazon in die Produktion ein und so hatte die Firma hinter dem Projekt plötzlich gar nicht mehr alle Rechte, den Film an die internationalen Backer zu verteilen.</p>
<p>Schlussendlich habe ich den Film Ende 2015 auf Amazon Prime Video gesehen; der Reward des Downloads wurde mir erst März 2016 angeboten. Das lief nicht ganz so, wie ich es mir vorgestellt hatte, aber zumindest habe ich dem Film überhaupt zum Leben verholfen. Etwas deprimierend ist es trotzdem, dass ich das Risiko getragen habe, nur damit sich größere Studios am Ende vollkommen risikofrei die Rechte sichern. Auf der anderen Seite kann ein kleines Filmproduktionsteam keinen globalen Vertrieb schultern und ich kann es ihnen nicht verübeln, dass sie die Chance ergriffen haben, ihren Film in einigen Märkten im Kino zu zeigen.</p>
</section>
<section id="camera-nico360" class="level1">
<h1>2016 360° Camera Nico360</h1>
<p>Ein paar Jahre später habe ich zum ersten Mal Geld komplett in den Sand gesetzt. Ich war damals stark an der <a href="../../../../2025/04/27/panoramen/">Panoramafotografie</a> interessiert und noch vor dem heutigen Platzhirsch Insta360 versuchte <a href="https://www.indiegogo.com/de/projects/jimhuang-14202244/the-world-s-smallest-360-camera-nico360">ein kleines Team</a>, die Produktkategorie der 360°-Actioncam mit 2 Fischaugenkameras und automatischem Stitchung zu etablieren.</p>
<p>Was ich nicht wusste: Das Team hatte keinerlei Erfahrung in der Produktion von Hardware. Der Prototyp sah vielversprechend aus, aber nach Ende des Fundings folgte fast monatlich ein Kommentar, in welchem über Probleme mit der Fertigung berichtet wurde. Es gab mehrere Iterationen, das Design anzupassen, doch jede neue Version wurde scheinbar von der Fabrik in China mit neuen Problemen abgewiesen.</p>
<p>Nach dem letzten Update im Juli 2017 herrschte dann Funkstille; vermutlich war das Geld aus der Kampagne aufgebraucht. Ich habe fortan darauf geachtet, dass ich kein Geld mehr in vollkommen unerfahrene Creators stecke - dieses Risiko dürfen gerne andere tragen.</p>
</section>
<section id="uno-ii-backpack" class="level1">
<h1>2017 Uno II Backpack</h1>
<p>Meine wohl beste Crowdfunding-Erfahrung habe ich mit dem <a href="https://www.kickstarter.com/projects/485414743/the-first-interchangeable-backpack-for-everyday-es">Uno II Backpack</a> gemacht. Ich war auf der Suche nach einem neuen Rucksack, der auch mein 16” Macbook Pro aufnehmen konnte und stieß in meiner Fotografie-Bubble auf das Kickstarter-Projekt. Die Firma NIID hatte bereits eine erfolgreiche Linie an Rucksäcken und Taschen am Markt, so dass das Risiko überschaubar war. Zudem saß der Rucksack auf den Bildern ergonomisch am Rücken (und hing nicht wie ein Sack nach unten) und hatte viele nette Details, wie den langen Reißverschluss, der das komplette Öffnen des Rucksacks ermöglichte, oder die innen verstaubare Flaschenhalterung.</p>
<p>Und tatsächlich schaffte es NIID sogar, den angestrebten Liefertermin im Juni 2017 zu halten. Den Rucksack trage ich noch heute, so dass ich sehr zufrieden mit der Qualität und meinem Funding bin.</p>
</section>
<section id="magic-puzzles" class="level1">
<h1>2020 Magic Puzzles</h1>
<p>Es war Corona, wir waren eingesperrt in unserer Wohnung und ich widmete mich zur Ablenkung dem Puzzeln. Trotz vergleichsweise riesiger Auswahl konnte mich kaum ein Produkt wirklich überzeugen. Aber ich stieß auf Kickstarter auf ein <a href="https://www.kickstarter.com/projects/magicpuzzlecompany/magic-puzzles">Projekt</a>, das Bilder dreier Comickünstler als Puzzles realisieren wollte. Da mich eines davon ansprach, unterstützte ich das Projekt.</p>
<p>Doch statt dem Ziel Oktober 2020 wurde es Ende März 2021, bis das Puzzle wirklich an mich versendet wurde. Das hing damit zusammen, dass die Creators während des Brexits unbedingt die für Europa bestimmten Sendungen aus Großbritannien heraus verschicken wollten. So hing mein Puzzle mehrfach für Wochen beim britischen Zoll fest.</p>
<p>Als das fertige Puzzle dann bei mir ankam hielt es zwar seine Versprechungen, aber nach zehn Monaten Wartezeit war meine Begeisterung doch etwas gedämpft.</p>
</section>
<section id="invzi-ganhub-140w-gan-charger-pd-3.1" class="level1">
<h1>2022 INVZI GaNHub 140W GaN Charger PD 3.1</h1>
<p>Nachdem 2022 die familiäre Armada an Smartphones, Tablets und Laptops endlich auf USB-C umgestellt war, quoll die Wohnung über von Ladegeräten, die noch dazu nicht für alle Geräte geeignet waren. Also suche ich nach einer Ladestation, die nicht zu viel Platz auf dem Schreibtisch wegnahm und doch genug Ladeleistung bot. Die ersten GAN Charger kamen damals gerade auf den Markt, doch entweder hörten sie bei 30 bis 60W auf oder hatten zu wenige USB-C Anschlüsse.</p>
<p>Nicht so das <a href="https://www.indiegogo.com/de/projects/invzi/invzi-ganhub-140w-gan-charger-pd-3-1">Projekt von INVZI</a>. Hier passte scheinbar alles und das Verlängerungskabel inklusive Wechselstecker machte es gleich noch zum idealen Reisebegleiter. Einziger Wehrmutstropfen war das geplante Shipping neun Monate später - aber nach der Erfahrung mit der 360° Cam hielt ich diesen Zeitplan für realistisch.</p>
<p>Und tatsächlich wurde der Termin sogar übererfüllt; mein Examplar des 140W Chargers wurde bereits Anfang Januar 2023 verschickt. Das Produkt selber war auch überzeugend und hatte keine der Kinderkrankheiten, von denen ich in Tests anderer GAN Charger las.</p>
<p>Aber: Neun Monate sind im Bereich der Mikroelektronik eine halbe Ewigkeit. In der Zwischenzeit hatten andere Hersteller vergleichbare Produkte entwickelt, so dass ich mir sogar zu Weihnachten 2022 schon etwas hätte kaufen können. Denn während INVZI noch Kraft und Zeit in die Crowdfunding-Kampagne steckte, wurden andere Produkte direkt auf den Markt geworfen.</p>
<p>Und wie immer beim Crowdfunding kaufte ich auch die Katze im Sack: Der INVZI GAN Charger hätte ebenso ein minderwertiges Produkt werden können, wie es sie bei Temu oder Shein zu Hunderten gibt; kein Test konnte mich davor warnen. Ich hatte Glück, aber das muss nicht immer so sein.</p>
</section>
<section id="circular-ring-2" class="level1">
<h1>2025 Circular Ring 2</h1>
<p>Wie zum Beispiel bei meinem aktuellen Gadget, einem Smart Ring. Ich hatte mich schon seit 2023 mit diesen Wearables beschäftigt, da ich keine Smartwatch tragen wollte, aber doch an Metriken über meinen Körper interessiert war. Doch der Marktführer Oura war mir einfach zu teuer (einmalig 330€ für die Hardware plus monatliche Abo-Gebühren) dafür, dass ich nicht mal sicher war, ob ich dauerhaft einen nicht gerade kleinen Ring tragen will.</p>
<p>Die französische Firma Circular war mit ihrer Garantie, die Daten nur in europäischen Clouds zu speichern und die Grundfunktionen ohne Abo anzubieten, ein möglicher Kandidat. Aber erst, als sie <a href="https://www.kickstarter.com/projects/circular-ring/circular-ring-2-worlds-most-advanced-health-tracking-ring">die zweite Generation ihres Rings über Kickstarter finanzieren</a> wollten, griff ich zu.</p>
<p>Ihren geplanten Zeitplan haben sie leider gerissen, so dass mein Exemplar statt im Juni erst nach <a href="../../../../2025/08/03/walking-the-hadrians-wall/">meinen Urlauben</a> im August ankam, wo ich die Sport-Tracking-Funktionen doch gerne ausprobiert hätte. Dabei hatte ich, um unter den ersten Chargen zu sein, sogar auf das Sizing-Kit verzichtet und nur die Größe per App geschätzt (leider ein Fehler).</p>
<p>Und auch nach der Ankunft ging es mit Problemen weiter: Zwar war es bereits die zweite Generation des Rings, aber trotzdem haben die Entwickler die benötigten Cloud-Ressourcen unterschätzt. Da der Ring ohne die Cloud leider nicht einmal die gesammelten Daten anzeigen kann, war das Gerät tagelang nutzlos. Bis heute gibt es noch Probleme mit der Synchronisation in der App und mit jedem App-Update gibt es das Risiko, dass Funktionalitäten plötzlich nicht wie gewohnt funktionieren.</p>
<p>Ein erfahrenes Team ist also noch lange kein Garant für ein gutes Produkt. Mit ist zwar klar, dass ein Cloud-Backend und die dauerhafte Entwicklung einer App nicht von Hardware-Verkäufen allein finanziert werden können, aber was beim Circular Ring 2 alles schief lief (und läuft) ist einen eigenen Artikel wert.</p>
</section>
<section id="straßenbräu-biergarten" class="level1">
<h1>2025 Straßenbräu Biergarten</h1>
<p>Ganz zum Schluss noch ein positives Beispiel. Die Berliner Brauerei Straßenbräu vom Ostkreuz wollte an ihren Braustandort einen <a href="https://www.startnext.com/strassenbraeu-biergarten">Biergarten</a> eröffnen. Da war ich natürlich sofort dabei, und freute mich über ein Shirt als Reward. Ich habe es nach der Eröffnung leider noch nicht hingeschafft, aber das Shirt habe ich bereits getragen.</p>
</section>
<section id="fazit" class="level1">
<h1>Fazit</h1>
<p>Es ist keine Neuigkeit, dass Crowdfunding Risiken birgt. Aber ich kann jedem nur empfehlen, sich zumindest etwas über die Macher hinter den Kampagnen zu informieren. Auch erfahrene Teams können Produkte in den Sand setzen, aber unerfahrene tun das mit einer viel höheren Wahrscheinlichkeit.</p>
<p>Eine weiterer Erkenntnis ist: Zeitpläne beim Crowdfunding sind mit Vorsicht zu genießen. Häufig geht etwas schief und es gibt Verzögerungen. In dieser Zeit dreht die Welt sich jedoch weiter, so dass eine Idee aus dem letzten Jahr bei Fertigstellung nicht mehr das wert sein muss, was ich in sie investiert habe (von der Qualität ganz zu schweigen).</p>
<p>Also rate ich dazu zu hinterfragen, ob das Funding wirklich nötig ist. Oft kommen die Produkte nach der erfolgreichen Kampagne auch in den regulären Handel. Dann kann man checken, ob die Qualität passt und geht weniger Risiko ein. <em>Anomalisa</em> oder der Straßenbräu-Biergarten wären niemals entstanden ohne meinen Beitrag, aber bei Technik-Produkten bin ich inzwischen geläutert.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/kingoli\.net\/blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>